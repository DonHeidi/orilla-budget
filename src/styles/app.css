@import 'tailwindcss' source('../');

/* =============================================================================
   1. FONTS
   Self-hosted for GDPR compliance
   ============================================================================= */

@import '@fontsource/instrument-sans/400.css';
@import '@fontsource/instrument-sans/500.css';
@import '@fontsource/instrument-sans/600.css';
@import '@fontsource/instrument-sans/700.css';
@import '@fontsource/jetbrains-mono/400.css';
@import '@fontsource/jetbrains-mono/500.css';
@import '@fontsource/anton/400.css';
@import '@fontsource/anton-sc/400.css';

/* =============================================================================
   2. DARK MODE VARIANT
   ============================================================================= */

@custom-variant dark (&:is(.dark *));

/* =============================================================================
   3. THEME TOKENS
   Design system foundation - generates Tailwind utilities
   ============================================================================= */

@theme {
  /* Typography */
  --font-sans: 'Instrument Sans', system-ui, -apple-system, sans-serif;
  --font-display: 'Anton', system-ui, sans-serif;
  --font-display-sc: 'Anton SC', system-ui, sans-serif;
  --font-mono: 'JetBrains Mono', ui-monospace, monospace;

  /* Radii */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.625rem;
  --radius-xl: 0.875rem;
  --radius-2xl: 1rem;

  /* Shadows - semantic, mode-aware via CSS vars */
  --shadow-card: var(--shadow-card-value);
  --shadow-card-hover: var(--shadow-card-hover-value);

  /* Semantic colors - mapped from CSS variables for light/dark support */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  --color-destructive-dim: var(--destructive-dim);
  --color-destructive-border: var(--destructive-border);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  /* Status colors */
  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);
  --color-success-dim: var(--success-dim);
  --color-success-border: var(--success-border);
  --color-warning: var(--warning);
  --color-warning-foreground: var(--warning-foreground);
  --color-warning-dim: var(--warning-dim);
  --color-warning-border: var(--warning-border);
  --color-info: var(--info);
  --color-info-foreground: var(--info-foreground);
  --color-info-dim: var(--info-dim);
  --color-info-border: var(--info-border);

  /* Chart colors */
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  /* Sidebar colors */
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);
}

/* =============================================================================
   4. COLOR MODES — Indigo Ink
   Light and dark color palettes using OKLCH
   ============================================================================= */

:root {
  /* Base palette - warm gray with indigo undertone */
  --background: oklch(0.970 0.004 271);
  --foreground: oklch(0.228 0.038 283);

  /* Surfaces */
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.228 0.038 283);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.228 0.038 283);

  /* Interactive - primary is the indigo brand color */
  --primary: oklch(0.468 0.127 277);
  --primary-foreground: oklch(1 0 0);
  --secondary: oklch(0.980 0.004 286);
  --secondary-foreground: oklch(0.228 0.038 283);
  --muted: oklch(0.980 0.004 286);
  --muted-foreground: oklch(0.442 0.042 285);
  --accent: oklch(0.959 0.007 277);
  --accent-foreground: oklch(0.228 0.038 283);

  /* Destructive */
  --destructive: oklch(0.554 0.164 24);
  --destructive-foreground: oklch(1 0 0);
  --destructive-dim: oklch(0.970 0.010 24);
  --destructive-border: oklch(0.880 0.040 24);

  /* Borders & Focus */
  --border: oklch(0.920 0.006 277);
  --input: oklch(0.920 0.006 277);
  --ring: oklch(0.468 0.127 277);

  /* Status — Success */
  --success: oklch(0.566 0.116 156);
  --success-foreground: oklch(1 0 0);
  --success-dim: oklch(0.970 0.012 156);
  --success-border: oklch(0.870 0.040 156);

  /* Status — Warning */
  --warning: oklch(0.624 0.108 82);
  --warning-foreground: oklch(1 0 0);
  --warning-dim: oklch(0.970 0.012 82);
  --warning-border: oklch(0.870 0.040 82);

  /* Status — Info */
  --info: oklch(0.544 0.114 253);
  --info-foreground: oklch(1 0 0);
  --info-dim: oklch(0.965 0.012 253);
  --info-border: oklch(0.870 0.040 253);

  /* Charts — indigo-coherent palette */
  --chart-1: oklch(0.468 0.127 277);
  --chart-2: oklch(0.566 0.116 156);
  --chart-3: oklch(0.624 0.108 82);
  --chart-4: oklch(0.544 0.114 253);
  --chart-5: oklch(0.554 0.164 24);

  /* Sidebar */
  --sidebar: oklch(0.980 0.004 286);
  --sidebar-foreground: oklch(0.228 0.038 283);
  --sidebar-primary: oklch(0.468 0.127 277);
  --sidebar-primary-foreground: oklch(1 0 0);
  --sidebar-accent: oklch(0.950 0.010 277);
  --sidebar-accent-foreground: oklch(0.413 0.130 276);
  --sidebar-border: oklch(0.920 0.006 277);
  --sidebar-ring: oklch(0.468 0.127 277);

  /* Shadows — subtle indigo tint */
  --shadow-card-value: 0 1px 3px oklch(0.228 0.038 283 / 0.03),
    0 4px 14px oklch(0.228 0.038 283 / 0.03);
  --shadow-card-hover-value: 0 4px 8px oklch(0.228 0.038 283 / 0.06),
    0 12px 24px oklch(0.228 0.038 283 / 0.06);
}

.dark {
  /* Base palette - deep blue-black with indigo undertone */
  --background: oklch(0.188 0.024 284);
  --foreground: oklch(0.840 0.033 286);

  /* Surfaces */
  --card: oklch(0.217 0.031 284);
  --card-foreground: oklch(0.840 0.033 286);
  --popover: oklch(0.217 0.031 284);
  --popover-foreground: oklch(0.840 0.033 286);

  /* Interactive - primary is the indigo brand color */
  --primary: oklch(0.576 0.122 279);
  --primary-foreground: oklch(1 0 0);
  --secondary: oklch(0.245 0.038 283);
  --secondary-foreground: oklch(0.840 0.033 286);
  --muted: oklch(0.245 0.038 283);
  --muted-foreground: oklch(0.564 0.074 284);
  --accent: oklch(0.271 0.041 283);
  --accent-foreground: oklch(0.840 0.033 286);

  /* Destructive */
  --destructive: oklch(0.602 0.163 23);
  --destructive-foreground: oklch(1 0 0);
  --destructive-dim: oklch(0.220 0.030 23);
  --destructive-border: oklch(0.350 0.060 23);

  /* Borders & Focus */
  --border: oklch(0.350 0.030 280 / 40%);
  --input: oklch(0.400 0.035 280 / 40%);
  --ring: oklch(0.576 0.122 279);

  /* Status — Success */
  --success: oklch(0.622 0.108 155);
  --success-foreground: oklch(1 0 0);
  --success-dim: oklch(0.220 0.025 155);
  --success-border: oklch(0.350 0.050 155);

  /* Status — Warning */
  --warning: oklch(0.717 0.120 90);
  --warning-foreground: oklch(0.188 0.024 284);
  --warning-dim: oklch(0.220 0.025 90);
  --warning-border: oklch(0.350 0.050 90);

  /* Status — Info */
  --info: oklch(0.639 0.117 250);
  --info-foreground: oklch(1 0 0);
  --info-dim: oklch(0.220 0.025 250);
  --info-border: oklch(0.350 0.050 250);

  /* Charts — indigo-coherent palette */
  --chart-1: oklch(0.576 0.122 279);
  --chart-2: oklch(0.622 0.108 155);
  --chart-3: oklch(0.717 0.120 90);
  --chart-4: oklch(0.639 0.117 250);
  --chart-5: oklch(0.602 0.163 23);

  /* Sidebar — darker than main content */
  --sidebar: oklch(0.177 0.016 285);
  --sidebar-foreground: oklch(0.840 0.033 286);
  --sidebar-primary: oklch(0.576 0.122 279);
  --sidebar-primary-foreground: oklch(1 0 0);
  --sidebar-accent: oklch(0.240 0.030 280 / 50%);
  --sidebar-accent-foreground: oklch(0.698 0.094 278);
  --sidebar-border: oklch(0.350 0.030 280 / 40%);
  --sidebar-ring: oklch(0.576 0.122 279);

  /* Shadows — deeper for dark mode */
  --shadow-card-value: 0 1px 3px oklch(0 0 0 / 0.2),
    0 4px 14px oklch(0 0 0 / 0.16);
  --shadow-card-hover-value: 0 4px 8px oklch(0 0 0 / 0.25),
    0 12px 24px oklch(0 0 0 / 0.2);
}

/* =============================================================================
   5. BASE STYLES
   Element defaults applied globally
   ============================================================================= */

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  html {
    font-size: 18px;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-background text-foreground font-sans;
  }
}
